name: Test
description: Formatting, static analysis and tests

runs:
  using: composite
  steps:
    - id: pip
      shell: bash
      run: |
        pip install -r requirements-dev.txt
        pip install -e .
    - id: black
      shell: bash
      run: black --check --diff i3_quickterm tests setup.py
    - id: flake8
      shell: bash
      run: flake8 i3_quickterm tests
    - id: pytest
      shell: bash
      run: pytest -vv
